           The following enhancements have been made to DISAS.

Document code and add comments. Ongoing since 1991. Most of my comments are in
lower case, the original source was all upper case. Signatures have only been
added to changes to the actual code.

June 2004
Tidy up package ready to send to CBT tape.

March 2004
Fix support for object decks containing more than one csect.

February 2004
Make TXT entends off end of setion message say how far it does.
Fix handling of RLD entries for object decks containing more than one csect.

January 2004
Handle concatenated object decks in the input. This supports SYM data extracted
by DISYM followed by the object decks produced by DELINKI for multi CSECT LMODs.

December 2003
Write PRINTP to print and punch output. PRINTA now just prints output. Eliminate
PDOFF flag and change calls to PRINTA to PRINTP if data needs to be punched.
Handle RLD entries for object decks containing more than one csect.
Handle object decks with the section length only on the END card.

September-November 2003
Convert most modules to standard linkage conventions.
Drop CXN.

July 2003
Generate offset from extrns correctly.

June 2003
Handle CXDs.
Generate V type address constants as VCONs.
Generate DSECTs instead of DXDs when the PR has alignment other than byte.

May 2003
Expand RLD entries into array so they can be sorted. This is much faster for
large numbers of RLD entries and fixes a bug if the csect starts with an adcon.
Correctly generate COM length.
Handle Q type address constants and DXDs.

March-April 2003
Make address table in SAVA dynamic so it never fills up.
Make RLD entry table in RLD dynamic so it never fills up.

November-December 2002
Handle csects starting with a DS correctly.

April 2002
Prevent 0C4 if all EXTRNs invalid (eg PRs).

January 2002
Vet data length on RLD and TXT cards.

December 2001
Support for multiple csects in one object deck (partial).

November 2001
Process other ESD entries on a card if one is invalid.
Get ESD ID correctly for 2nd or 3rd entry on ESD card.
Vet ESD data length on an ESD card.
Dynamically expand the buffer for TXT card headers if it fills up.

October 2001
Prevent 0C4 if no valid ESD entry found.
Make message about overlapping TXT cards more informative.

September 2001
Finally ensure we don't lose part of the last TXT card or get the last ADCON
duplicated.
Treat the end of the program as a non-executable.

August 2001
Get clist to work if invoked from both sides of a split screen.
Put the address an EQUate refers to into the ADDR2 field on the listing.

July 2001
Handle SYM entries for EQU * generated by ASM XF or Tachyon Cross Assembler.

June 2001
Finish putting TXT into dynamic area.
Handle CSECTs with no TXT, ie just DS, correctly.
Handle Zeroes-or-Blanks before a DS correctly.

May 2001
Fix bugs in DISYM.
Put TXT in dynamic area pointed to by section descriptor. This ensures
overlapping TXT cards are properly handled and we never run out of space for
TXT.

April 2001
Write DISYM to extract SYM records from a load module.

January 2001
Finish getting SYM to print and punch DSECTs in SYM records.

December 2000
Prevent storage overwrite if the RLD table overflows.
Convert most modules to use register equates.
Get SYM to print/punch DSECTs in SYM records.

November 2000
Added support for CSP instruction.
Make output to PRDD blocked.
Added SORCEREM to process DS containing more than one object deck, such
as SMPE sysmods.
Added clist to disassemble LMODs or object decks under ISPF.

September 2000
Put out error message if text extends after the section length in the ESD
entry for a section instead of abending.
Generate equates inline where they are needed. This fixes a bug if an equate in
private code is before any other label and another if two named labels are at
the same place. This is most likely to happen with SYM input but could happen if
two ENTRYs were in the same place. Also stops equate table overflow.

August 2000
Start exploiting SYM cards by naming addresses.

July 2000
Generate a trailing DS to pad the section out to it's proper length if
necessary.
Added dummy entry point called FESNAP to SORCERER so it will link cleanly with
DELINK0.

June 2000
Put comment on hex constants with the character representation of the constant.
Add CA's 'secret' SVC's to the SVC description table.
Flag BALR, BCTR, BCR, BSM, BASSM, BASR or BAKR to R0 as not branching
instructions. This also slightly reduces the chance of mistaking data for code.
Switch off punching when PASS1 puts out messages.

May 2000.
Restructured table of addresses referenced in the program and added the CSECT
name to it. This ensures that equates are generated correctly unless
dissassembling private code (effectivly a CSECT with a name of spaces) and the
first equate is before any ordinary label in the output. This also prepares to
use SYM records to name the labels.
Generate extended mnemonics for unconditional branches and NOPs.
Put a comment on BCR 15,0 to say it is a hardware serialization and checkpoint
synchronisation function.

April 2000.
Replaced the instruction timing in the comment field of the listing with the
character representation of the instructions to make it easier to tell if they
are actually text. Also added instruction characteristics flags, b - branching
instruction, i - interruptible instruction, p - privileged instruction, q -
semi-privileged instruction and c - instruction sets CC.

March 2000
Testing SORCEREI to dissassemble multiple CSECTs in a LMOD revealed I needed to
FREEPOOL all DCBs before exiting DISAS and not put /* at end of output.

January 2000.
Added support for RSECTs and AMODE and RMODE other than 24. Set return code to
zero on exit

December 1999.
Added support for PLO and changed header to ESA/390 since it now supports all
390 instructions.

July 1999.
Added ESD ID to start message.
Only print length and EPA in the END message if they are present in the END
card.

June 1999.
Support added for S/370, XA, ESA/370 and ESA/390 instructions. This includes
support for 2 byte opcodes and 5 byte mnemonics.
Remove non-XA instructions.
Changed header to ESA/370.
Support for Private Code added.
Added check for section table overflow.
Added check for entry table overflow.
Put out message with info from the END card.
Allow 5000 TXT cards instead of 500.

May 1999.
Support weak external references (WXTRNs).
Added section name to start message.
Check BASR as well as BALR instructions for USING bases.
Add SVC description to SVC calls.

April 1999.
Generate SVC number correctly to support 1 and 3 byte SVC numbers.
Fixed bug printing the equate table at end of output.

1994.
Changed DCB's to recfm FB instead of recfm F.
